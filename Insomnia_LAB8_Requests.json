{
  "_type": "export",
  "__export_format": 4,
  "resources": [
    {
      "_id": "req_lab8_login",
      "name": "1. Login",
      "method": "POST",
      "url": "http://localhost:8000/api/users/login/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"username\": \"admin\",\n  \"password\": \"admin\"\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ]
    },
    {
      "_id": "req_lab8_get_orders_before",
      "name": "2. GET Orders (before)",
      "method": "GET",
      "url": "http://localhost:8000/api/orders/",
      "headers": [
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_create_cart",
      "name": "3. Create Order Cart",
      "method": "POST",
      "url": "http://localhost:8000/api/orders/cart/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"ampoules_count\": 5,\n  \"solvent_volume\": 100,\n  \"patient_weight\": 70\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_add_drug1",
      "name": "4. Add Drug 1 to Order",
      "method": "POST",
      "url": "http://localhost:8000/api/drugs/1/add-to-order/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"order_id\": 1,\n  \"ampoule_volume\": 5.0\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_add_drug2",
      "name": "5. Add Drug 2 to Order",
      "method": "POST",
      "url": "http://localhost:8000/api/drugs/2/add-to-order/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"order_id\": 1,\n  \"ampoule_volume\": 4.0\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_form_order",
      "name": "6. Form Order (FORMED)",
      "method": "PUT",
      "url": "http://localhost:8000/api/orders/1/form/",
      "headers": [
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_complete_order",
      "name": "6.5. Complete Order (Start Async)",
      "method": "PUT",
      "url": "http://localhost:8000/api/orders/1/complete/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"action\": \"complete\"\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_reject_order",
      "name": "6.6. Reject Order",
      "method": "PUT",
      "url": "http://localhost:8000/api/orders/1/complete/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"action\": \"reject\"\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_get_orders_after",
      "name": "7. GET Orders (after 10 sec)",
      "method": "GET",
      "url": "http://localhost:8000/api/orders/",
      "headers": [
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_get_order_detail",
      "name": "8. GET Order Detail",
      "method": "GET",
      "url": "http://localhost:8000/api/orders/1/",
      "headers": [
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_get_druginorder",
      "name": "9. GET DrugInOrder Detail",
      "method": "GET",
      "url": "http://localhost:8000/api/orders/1/drugs/1/",
      "headers": [
        {
          "name": "Cookie",
          "value": "sessionid=YOUR_SESSION_ID"
        }
      ]
    },
    {
      "_id": "req_lab8_go_health",
      "name": "10. Go Service Health",
      "method": "GET",
      "url": "http://localhost:8081/health"
    },
    {
      "_id": "req_lab8_go_drugs_process",
      "name": "11. Go Drugs Process (manual)",
      "method": "POST",
      "url": "http://localhost:8081/drugs_process/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"order_id\": 1,\n  \"drugs\": [\n    {\n      \"druginorder_id\": 1,\n      \"drug_concentration\": 4.0,\n      \"ampoule_volume\": 5.0,\n      \"ampoules_count\": 5,\n      \"solvent_volume\": 100.0,\n      \"patient_weight\": 70.0\n    }\n  ]\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ]
    },
    {
      "_id": "req_lab8_update_results",
      "name": "12. Update Results with Secret Key",
      "method": "POST",
      "url": "http://localhost:8000/api/orders/async/update_results/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"secret_key\": \"a1b2c3d4e5f6g7h8\",\n  \"order_id\": 1,\n  \"results\": [\n    {\n      \"druginorder_id\": 1,\n      \"infusion_speed\": 99.99\n    }\n  ]\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ]
    },
    {
      "_id": "req_lab8_update_results_wrong_key",
      "name": "13. Update Results (wrong key)",
      "method": "POST",
      "url": "http://localhost:8000/api/orders/async/update_results/",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"secret_key\": \"wrongkey\",\n  \"order_id\": 1,\n  \"results\": []\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ]
    }
  ]
}
